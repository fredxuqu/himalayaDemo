<dataConfig>
	
	<dataSource driver="oracle.jdbc.driver.OracleDriver" 
				url="jdbc:oracle:thin:@localhost:1521:orcl" 
				user="scott" 
				password="sa" 
				name="ds_products"/> 				
    <document>
        <entity name="products" 
				datasource="ds_products" 
				pk="PRODUCT_ID" 
				query="SELECT PRODUCT_ID,PRODUCT_NAME,MADEIN,PRODUCT_VERSION,PRODUCT_DESC,PRODUCT_TYPE,MODIFY_TIME 
				         FROM PRODUCTS 
						WHERE MODIFY_TIME > TO_DATE('${dataimporter.last_index_time}','yyyy-MM-dd HH24:MI:SS')"
						
				deltaQuery="SELECT PRODUCT_ID 
							  FROM PRODUCTS 
							 WHERE MODIFY_TIME > TO_DATE('${dataimporter.last_index_time}','yyyy-MM-dd HH24:MI:SS')"
							 
				parentDeltaQuery="SELECT PRODUCT_ID,PRODUCT_NAME,MADEIN,PRODUCT_VERSION,PRODUCT_DESC,PRODUCT_TYPE,MODIFY_TIME 
									FROM PRODUCTS 
								   WHERE PRODUCT_ID = '${products.PRODUCT_ID}'" >
				
			<field column="PRODUCT_ID" name="id" />
			<field column="PRODUCT_NAME" name="productName" />
			<field column="PRODUCT_VERSION" name="productVersion" />			
			<field column="PRODUCT_DESC" name="productDesc" />
			<field column="PRODUCT_TYPE" name="productType" />
			<field column="MODIFY_TIME" name="modifyTime" />
		
			<entity name="producttypes" 
					query="SELECT TYPE_NAME FROM PRODUCT_TYPE 
					        WHERE TYPE_ID = '${products.PRODUCT_TYPE}' 
							  AND MODIFY_TIME > TO_DATE('${dataimporter.last_index_time}','yyyy-MM-dd HH24:MI:SS')">       
				<field column="TYPE_NAME" name="typeName" />
			</entity>
		</entity>
		
		<!--entity name="products" 
				datasource="ds_products" 
				query="SELECT PRODUCT_ID,PRODUCT_NAME,MADEIN,PRODUCT_VERSION,PRODUCT_DESC,PRODUCT_TYPE,MODIFY_TIME FROM PRODUCTS "
				deltaQuery="SELECT PRODUCT_ID FROM PRODUCTS WHERE MODIFY_TIME > TO_DATE('${dataimporter.last_index_time}','yyyy-MM-dd HH24:MI:SS')" 
				deltaImportQuery="SELECT PRODUCT_ID,PRODUCT_NAME,MADEIN,PRODUCT_VERSION,PRODUCT_DESC,PRODUCT_TYPE,MODIFY_TIME FROM PRODUCTS WHERE PRODUCT_ID = '${dih.delta.PRODUCT_ID}'">           
				
			<field column="PRODUCT_ID" name="id" />
			<field column="PRODUCT_NAME" name="productName" />
			<field column="PRODUCT_VERSION" name="productVersion" />			
			<field column="PRODUCT_DESC" name="productDesc" />
			<field column="PRODUCT_TYPE" name="productType" />
			<field column="MODIFY_TIME" name="modifyTime" />
		
			<entity name="producttypes" 
					query="SELECT TYPE_NAME FROM PRODUCT_TYPE 
					        WHERE TYPE_ID = '${products.PRODUCT_TYPE}' 
							  AND MODIFY_TIME > TO_DATE('${dataimporter.last_index_time}','yyyy-MM-dd HH24:MI:SS')">       
				<field column="TYPE_NAME" name="typeName" />
			</entity>
		</entity-->
    </document>
</dataConfig>

